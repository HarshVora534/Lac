<aura:component implements="force:appHostable">
    <aura:attribute name="currentStep" type="Integer" default="1"/>
    <aura:attribute name='fields' type='String[]' default="['Name','Email__c','Externalid__c']"/>
    <aura:attribute name='fieldscon' type='String[]' default="['AccountId','LastName']"/>
    <aura:attribute name="accountId" type="String" />
    <aura:attribute name="contactId" type="String" />
    <aura:attribute name="eventId" type="String" />
    <aura:handler name="init" value="{!this}" action="{!c.init}"/>
    
    <aura:if isTrue="{!v.currentStep == 1}">
        <lightning:recordForm objectApiName="Account" fields="{!v.fields}" mode="edit" recordId="{!v.accountId}" onsuccess="{!c.handleAccountSuccess}"/>
    </aura:if>
    
    <aura:if isTrue="{!v.currentStep == 2}">
        <lightning:recordForm objectApiName="Contact" fields="{!v.fieldscon}" mode="edit" recordId="{!v.contactId}" onload="{!c.handleContactLoad}"/>
    </aura:if>
    
    <aura:if isTrue="{!v.currentStep == 3}">
        <lightning:recordForm objectApiName="Event" fields="{!v.fields}" mode="edit" recordId="{!v.eventId}"/>
        <lightning:button variant="brand" label="Save" onclick="{!c.saveEvent}"/>
    </aura:if>
    
    <lightning:button label="Previous" onclick="{!c.previousStep}" disabled="{!v.currentStep == 1}"/>
    <lightning:button label="Next" onclick="{!c.nextStep}" disabled="{!v.currentStep == 3}"/>
</aura:component>
